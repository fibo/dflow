# g14n.info-jekyll-layouts

> is a git subtree containing Jekyll layouts used across my personal website
>
The following g14n.info microsites are involved:

* [dflow](http://g14n.info/dflow)
*
## Setup

Assuming that the content of the *gh-pages* branch is under the *gh-pages/* folder,

```
git remote add common_layouts git@github.com:fibo/g14n.info-jekyll-layouts.git
git subtree add --prefix=gh-pages/_layouts/common/ common_layouts master
```

The use the layouts as usual, for example create a *gh-pages/svg/github_stars.svg*
with the following content

```
---
layout: common/github_stars.html
---
```

## Update

In a working tree with all modifications committed, launch

```
git subtree --prefix=gh-pages/_layouts/common/ pull common_layouts master
```

## Layouts

### GitHub social buttons

At first I started using shield.io, for example

```
https://img.shields.io/github/watchers/fibo/${reponame}.svg?style=social&label=Watch
```

but sometimes the badge goes unresponsive. Another solution is to use buttons from https://buttons.github.io but they cannot be embedded in a README.md on npm.

The final solution is to use static svg files generated by Jekyll, using a *_data/repo.json* file
generated with GitHub API.
For instance, launch a command like

```
wget https://api.github.com/repos/fibo/${repo_name} -O gh-pages/_data/repo.json
```

or if it is a Node package, add the following script to your package.json

```
    "data_repo": "wget https://api.github.com/repos/fibo/${npm_package_name} -O gh-pages/_data/repo.json",
```

