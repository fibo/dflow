const generateItemId=(itemMap,idPrefix,wantedId)=>{if(wantedId&&!itemMap.has(wantedId))return wantedId;const id=`${idPrefix}${itemMap.size}`;return itemMap.has(id)?generateItemId(itemMap,idPrefix):id};class Dflow{static dataTypes=["string","number","boolean","object","array","DflowId"];static inferDataType(arg){if(Dflow.isBoolean(arg))return["boolean"];if(Dflow.isNumber(arg))return["number"];if(Dflow.isString(arg))return["string"];if(Dflow.isArray(arg))return["array"];if(Dflow.isObject(arg))return["object"];return[]}static isArray(arg){return Array.isArray(arg)&&arg.every(Dflow.isDflowData)}static isBoolean(arg){return typeof arg==="boolean"}static isDflowId(arg){return typeof arg==="string"&&arg!==""}static isObject(arg){return typeof arg==="object"&&arg!==null&&!Array.isArray(arg)&&Object.values(arg).every(Dflow.isDflowData)}static isNumber(arg){return typeof arg==="number"&&!isNaN(arg)&&Number.isFinite(arg)}static isString(arg){return typeof arg==="string"}static isDflowData(arg){if(arg===void 0)return false;return Dflow.isString(arg)||Dflow.isBoolean(arg)||Dflow.isNumber(arg)||Dflow.isObject(arg)||Dflow.isArray(arg)||Dflow.isDflowId(arg)}static isValidDataType(types,data){const isAnyType=types.length===0;if(isAnyType)return true;return types.some(pinType=>{switch(pinType){case"array":return Dflow.isArray(data);case"boolean":return Dflow.isBoolean(data);case"number":return Dflow.isNumber(data);case"object":return Dflow.isObject(data);case"string":return Dflow.isString(data);case"DflowId":return Dflow.isDflowId(data);default:return false}})}}class DflowPin{name;nodeId;types;constructor({nodeId,name,types=[]}){if(name)this.name=name;this.types=types;this.nodeId=nodeId}static canConnect(sourceTypes,targetTypes){const sourceHasTypeAny=sourceTypes.length===0;if(sourceHasTypeAny)return true;const targetHasTypeAny=targetTypes.length===0;if(targetHasTypeAny)return true;return targetTypes.some(pinType=>sourceTypes.includes(pinType))}get hasTypeAny(){return this.types.length===0}hasType(type){return this.hasTypeAny||this.types.includes(type)}}class DflowInput extends DflowPin{id;source;optional;constructor({id,optional,...pin}){super(pin);this.id=id;if(optional)this.optional=optional}get data(){return this.source?.data}get isConnected(){return this.source!==void 0}connectTo(pin){if(!DflowPin.canConnect(pin.types,this.types)){throw new DflowErrorCannotConnectPins({source:[pin.nodeId,pin.id],target:[this.nodeId,this.id]})}this.source=pin}disconnect(){this.source=void 0}toObject(){return{id:this.id}}}class DflowOutput extends DflowPin{id;value;constructor({id,data,...pin}){super(pin);this.id=id;this.value=data}get data(){return this.value}set data(arg){if(arg===void 0){this.clear();return}if(this.hasType("string")&&Dflow.isString(arg)||this.hasType("number")&&Dflow.isNumber(arg)||this.hasType("boolean")&&Dflow.isBoolean(arg)||this.hasType("object")&&Dflow.isObject(arg)||this.hasType("array")&&Dflow.isArray(arg)||this.hasType("DflowId")&&Dflow.isDflowId(arg)||this.hasTypeAny&&Dflow.isDflowData(arg)){this.value=arg}else this.clear()}clear(){this.value=void 0}toObject(){const obj={id:this.id};if(this.value!==void 0)obj.d=this.value;return obj}}class DflowNode{id;inputsMap=new Map;outputsMap=new Map;inputPosition=[];outputPosition=[];kind;host;constructor({id,kind,inputs=[],outputs=[],host}){this.id=id;this.host=host;this.kind=kind;for(const obj of inputs){const id2=generateItemId(this.inputsMap,"i",obj.id);const input11=new DflowInput({...obj,id:id2,nodeId:this.id});this.inputsMap.set(id2,input11);this.inputPosition.push(id2)}for(const obj of outputs){const id2=generateItemId(this.outputsMap,"o",obj.id);const output10=new DflowOutput({...obj,id:id2,nodeId:this.id});this.outputsMap.set(id2,output10);this.outputPosition.push(id2)}}static input(typing=[],rest){return{types:typeof typing==="string"?[typing]:typing,...rest}}static output(typing=[],rest){return{types:typeof typing==="string"?[typing]:typing,...rest}}get inputsDataAreValid(){for(const{data,types,optional}of this.inputsMap.values()){if(optional&&data===void 0)continue;if(Dflow.isValidDataType(types,data))continue;return false}return true}clearOutputs(){for(const output10 of this.outputsMap.values())output10.clear()}getInputById(id){const item=this.inputsMap.get(id);if(!item)throw new DflowErrorItemNotFound("input",{id});return item}input(position){const pinId=this.inputPosition[position];if(!pinId){throw new DflowErrorItemNotFound("input",{id:this.id,nodeId:this.id,position})}return this.getInputById(pinId)}getOutputById(id){const item=this.outputsMap.get(id);if(!item){throw new DflowErrorItemNotFound("output",{id,nodeId:this.id})}return item}output(position){const pinId=this.outputPosition[position];if(!pinId){throw new DflowErrorItemNotFound("output",{nodeId:this.id,position})}return this.getOutputById(pinId)}run(){}toObject(){const obj={id:this.id,k:this.kind};const inputs=[...this.inputsMap.values()].map(item=>item.toObject());if(inputs.length>0)obj.i=inputs;const outputs=[...this.outputsMap.values()].map(item=>item.toObject());if(outputs.length>0)obj.o=outputs;return obj}}class DflowGraph{nodesCatalog;nodesMap=new Map;edgesMap=new Map;runStatus=null;executionReport=null;constructor({nodesCatalog:nodesCatalog2}){this.nodesCatalog={...nodesCatalog2,...coreNodesCatalog}}static childrenOfNodeId(nodeId,nodeConnections){return nodeConnections.filter(({sourceId})=>nodeId===sourceId).map(({targetId})=>targetId)}static executionNodeInfo=(node,error)=>{const{id,k,o}=node.toObject();const info={id,k};if(o)info.o=o;if(error)info.err=error;return info};static parentsOfNodeId(nodeId,nodeConnections){return nodeConnections.filter(({targetId})=>nodeId===targetId).map(({sourceId})=>sourceId)}static ancestorsOfNodeId(nodeId,nodeConnections){const parentsNodeIds=DflowGraph.parentsOfNodeId(nodeId,nodeConnections);if(parentsNodeIds.length===0)return[];return parentsNodeIds.reduce((accumulator,parentNodeId,index,array)=>{const ancestors=DflowGraph.ancestorsOfNodeId(parentNodeId,nodeConnections);const result=accumulator.concat(ancestors);return index===array.length-1?[...new Set(array.concat(result))]:result},[])}static levelOfNodeId(nodeId,nodeConnections){const parentsNodeIds=DflowGraph.parentsOfNodeId(nodeId,nodeConnections);if(parentsNodeIds.length===0)return 0;let maxLevel=0;for(const parentNodeId of parentsNodeIds){const level=DflowGraph.levelOfNodeId(parentNodeId,nodeConnections);maxLevel=Math.max(level,maxLevel)}return maxLevel+1}get nodeConnections(){return[...this.edgesMap.values()].map(edge=>({sourceId:edge.source[0],targetId:edge.target[0]}))}get nodeIdsInsideFunctions(){const ancestorsOfReturnNodes=[];for(const node of[...this.nodesMap.values()]){if(node.kind==="return"){ancestorsOfReturnNodes.push(DflowGraph.ancestorsOfNodeId(node.id,this.nodeConnections))}}return[...new Set(ancestorsOfReturnNodes.flat())]}static sortNodesByLevel(nodeIds,nodeConnections){const levelOf={};for(const nodeId of nodeIds){levelOf[nodeId]=DflowGraph.levelOfNodeId(nodeId,nodeConnections)}return nodeIds.slice().sort((a,b)=>levelOf[a]<=levelOf[b]?-1:1)}async run(){this.runStatus="running";const executionReport={status:this.runStatus,start:new Date().toJSON(),end:new Date().toJSON(),steps:[]};const nodeIdsExcluded=this.nodeIdsInsideFunctions;const nodeIds=DflowGraph.sortNodesByLevel([...this.nodesMap.keys()].filter(nodeId=>!nodeIdsExcluded.includes(nodeId)),this.nodeConnections);for(const nodeId of nodeIds){const node=this.nodesMap.get(nodeId);try{if(!node.inputsDataAreValid){const error=new DflowErrorInvalidInputData(nodeId);executionReport.steps.push(DflowGraph.executionNodeInfo(node,error.toObject()));node.clearOutputs();continue}if(node.run.constructor.name==="AsyncFunction"){await node.run()}else{node.run()}executionReport.steps.push(DflowGraph.executionNodeInfo(node))}catch(error){console.error(error);this.runStatus="failure"}}if(this.runStatus==="running")this.runStatus="success";executionReport.status=this.runStatus;executionReport.end=new Date().toJSON();this.executionReport=executionReport}toObject(){return{nodes:[...this.nodesMap.values()].map(item=>item.toObject()),edges:[...this.edgesMap.values()].map(item=>item.toObject())}}}const{input,output}=DflowNode;class DflowNodeArgument extends DflowNode{static kind="argument";static inputs=[input("number",{name:"position",optional:true})];static outputs=[output()]}class DflowNodeData extends DflowNode{static kind="data";static outputs=[output()];constructor({outputs,...rest}){super({outputs:outputs?.map(output10=>({...output10,types:Dflow.inferDataType(output10.data)})),...rest})}}class DflowNodeFunction extends DflowNode{static kind="function";static outputs=[output("DflowId",{name:"id"})];constructor(arg){super(arg);this.output(0).data=this.id}}class DflowNodeReturn extends DflowNode{static kind="return";static inputs=[input("DflowId",{name:"functionId"}),input([],{name:"value"})]}const coreNodesCatalog={[DflowNodeArgument.kind]:DflowNodeArgument,[DflowNodeData.kind]:DflowNodeData,[DflowNodeFunction.kind]:DflowNodeFunction,[DflowNodeReturn.kind]:DflowNodeReturn};class DflowErrorCannotConnectPins extends Error{source;target;static code="01";static message({s,t}){return`Cannot connect source ${s.join()} to target ${t.join()}`}constructor({source,target}){super(DflowErrorCannotConnectPins.message({s:source,t:target}));this.source=source;this.target=target}toObject(){return{_:DflowErrorCannotConnectPins.code,s:this.source,t:this.target}}}class DflowErrorInvalidInputData extends Error{static code="02";nodeId;static message({nId:nodeId}){return`Invalid input data in node ${nodeId}`}constructor(nodeId){super(DflowErrorInvalidInputData.message({nId:nodeId}));this.nodeId=nodeId}toObject(){return{_:DflowErrorInvalidInputData.code,nId:this.nodeId}}}class DflowErrorItemNotFound extends Error{static code="03";item;info;static message({item,id,nId:nodeId,p:position}){return`Not found ${[`item=${item}`,id?`id=${id}`:"",nodeId?`nodeId=${nodeId}`:"",position?`position=${position}`:""].filter(str=>str!=="").join()}`}constructor(item,info={}){super(DflowErrorItemNotFound.message({item,id:info.id,nId:info.nodeId,p:info.position}));this.item=item;this.info=info}toObject(){const{item,info:{id,nodeId,position}}=this;const obj={item,_:DflowErrorItemNotFound.code};if(id)obj.id=id;if(nodeId)obj.nId=nodeId;if(position)obj.p=position;return obj}}const{input:input1,output:output1}=DflowNode;class DflowArrayAt extends DflowNode{static kind="arrayAt";static inputs=[input1("array"),input1("number",{name:"index"})];static outputs=[output1()];run(){const array=this.input(0).data;const index=this.input(1).data;this.output(0).data=array.at(index)}}class DflowArrayFilter extends DflowNode{static kind="arrayFilter";static inputs=[input1("array"),input1("DflowId",{name:"functionId"})];static outputs=[output1("array")];run(){this.output(0).data=this.input(0).data.filter((...args)=>this.host.executeFunction(this.input(1).data,args))}}class DflowArrayFindLastIndex extends DflowNode{static kind="arrayFindLastIndex";static inputs=[input1("array"),input1("DflowId",{name:"functionId"})];static outputs=[output1("number")];run(){this.output(0).data=this.input(0).data.findLastIndex((...args)=>this.host.executeFunction(this.input(1).data,args))}}class DflowArrayFindIndex extends DflowNode{static kind="arrayFindIndex";static inputs=[input1("array"),input1("DflowId",{name:"functionId"})];static outputs=[output1("number")];run(){this.output(0).data=this.input(0).data.findIndex((...args)=>this.host.executeFunction(this.input(1).data,args))}}class DflowArrayIncludes extends DflowNode{static kind="arrayIncludes";static inputs=[input1("array",{name:"array"}),input1("string",{name:"element"})];static outputs=[output1("boolean")];run(){const data=this.input(0).data;const element=this.input(1).data;if(Array.isArray(data)&&typeof element!=="undefined"){this.output(0).data=data.includes(element)}}}class DflowArrayJoin extends DflowNode{static kind="arrayJoin";static inputs=[input1("array",{name:"array"}),input1("string",{name:"separator",optional:true})];static outputs=[output1("string")];run(){this.output(0).data=this.input(0).data.join(this.input(1).data)}}class DflowArrayLength extends DflowNode{static kind="arrayLength";static inputs=[input1("array")];static outputs=[output1("number")];run(){const data=this.input(0).data;if(Array.isArray(data)){this.output(0).data=data.length}else{this.output(0).clear}}}class DflowArrayMap extends DflowNode{static kind="arrayMap";static inputs=[input1("array"),input1("DflowId",{name:"functionId"})];static outputs=[output1("array")];run(){this.output(0).data=this.input(0).data.map((...args)=>this.host.executeFunction(this.input(1).data,args))}}class DflowArrayPop extends DflowNode{static kind="arrayPop";static inputs=[input1("array")];static outputs=[output1([],{name:"element"}),output1("array",{name:"rest"})];run(){const array=this.input(0).data.slice();const element=array.pop();this.output(0).data=element;this.output(1).data=array}}class DflowArrayPush extends DflowNode{static kind="arrayPush";static inputs=[input1("array"),input1([],{name:"element"})];static outputs=[output1("array")];run(){const array=this.input(0).data.slice();const element=this.input(1).data;if(element){array.push(element)}this.output(0).data=array}}class DflowArrayReverse extends DflowNode{static kind="arrayReverse";static inputs=[input1("array")];static outputs=[input1("array")];run(){const array=this.input(0).data.slice();this.output(0).data=array.reverse()}}class DflowArrayShift extends DflowNode{static kind="arrayShift";static inputs=[input1("array")];static outputs=[output1([],{name:"element"}),output1("array",{name:"rest"})];run(){const array=this.input(0).data.slice();const element=array.shift();this.output(0).data=element;this.output(1).data=array}}class DflowArraySlice extends DflowNode{static kind="arraySlice";static inputs=[input1("array"),input1("number",{name:"start"}),input1("number",{name:"end",optional:true})];static outputs=[output1("array")];run(){const array=super.input(0).data;const start=super.input(1).data;const end=super.input(2).data;if(typeof end==="number"){super.output(0).data=array.slice(start,end)}else{super.output(0).data=array.slice(start)}}}const catalog={[DflowArrayAt.kind]:DflowArrayAt,[DflowArrayFilter.kind]:DflowArrayFilter,[DflowArrayFindLastIndex.kind]:DflowArrayFindLastIndex,[DflowArrayFindIndex.kind]:DflowArrayFindIndex,[DflowArrayIncludes.kind]:DflowArrayIncludes,[DflowArrayJoin.kind]:DflowArrayJoin,[DflowArrayLength.kind]:DflowArrayLength,[DflowArrayMap.kind]:DflowArrayMap,[DflowArrayPop.kind]:DflowArrayPop,[DflowArrayPush.kind]:DflowArrayPush,[DflowArrayReverse.kind]:DflowArrayReverse,[DflowArrayShift.kind]:DflowArrayShift,[DflowArraySlice.kind]:DflowArraySlice};const{input:input2,output:output2}=DflowNode;class DflowNodeIf extends DflowNode{static kind="if";static inputs=[input2([],{name:"condition"}),input2([],{name:"then"}),input2([],{name:"else"})];static outputs=[output2()];run(){this.output(0).data=this.input(0).data?this.input(1).data:this.input(2).data}}const catalog1={[DflowNodeIf.kind]:DflowNodeIf};const{input:input3}=DflowNode;class DflowConsoleLog extends DflowNode{static kind="consoleLog";static inputs=[input3()];run(){console.log(this.input(0).data)}}const catalog2={[DflowConsoleLog.kind]:DflowConsoleLog};const{input:input4,output:output3}=DflowNode;const dateOutputs=[output3("string"),output3("number",{name:"milliseconds"})];class DflowDateNew extends DflowNode{static kind="newDate";static inputs=[input4(["string","number"],{optional:true})];static outputs=dateOutputs;run(){const input11=this.input(0).data;if(typeof input11==="string"||typeof input11==="number"){const date=new Date(input11);const serializedDate=date.toJSON();if(serializedDate!==null){this.output(0).data=serializedDate;this.output(1).data=date.getTime()}}const d=new Date;this.output(0).data=d.toJSON();this.output(1).data=d.getTime()}}class DflowDateNow extends DflowNode{static kind="now";static outputs=dateOutputs;run(){const now=Date.now();this.output(0).data=new Date(now).toJSON();this.output(1).data=now}}const catalog3={[DflowDateNew.kind]:DflowDateNew,[DflowDateNow.kind]:DflowDateNow};const{input:input5,output:output4}=DflowNode;class DflowNodeAnd extends DflowNode{static kind="and";static inputs=[input5("boolean"),input5("boolean")];static outputs=[output4("boolean")];run(){this.output(0).data=this.input(0).data&&this.input(1).data}}class DflowNodeNot extends DflowNode{static kind="not";static inputs=[input5("boolean")];static outputs=[output4("boolean")];run(){this.output(0).data=!this.input(0).data}}class DflowNodeNullishCoaleshing extends DflowNode{static kind="??";static inputs=[input5(),input5()];static outputs=[output4()];run(){this.output(0).data=this.input(0).data??this.input(1).data}}class DflowNodeOr extends DflowNode{static kind="or";static inputs=[input5("boolean"),input5("boolean")];static outputs=[output4("boolean")];run(){this.output(0).data=this.input(0).data||this.input(1).data}}const catalog4={[DflowNodeAnd.kind]:DflowNodeAnd,[DflowNodeNot.kind]:DflowNodeNot,[DflowNodeNullishCoaleshing.kind]:DflowNodeNullishCoaleshing,[DflowNodeOr.kind]:DflowNodeOr};const{input:input6,output:output5}=DflowNode;class DflowMathAbs extends DflowNode{static kind="mathAbs";static inputs=[input6("number")];static outputs=[output5("number")];run(){this.output(0).data=Math.abs(this.input(0).data)}}class DflowMathCos extends DflowNode{static kind="mathCos";static inputs=[input6("number")];static outputs=[output5("number")];run(){this.output(0).data=Math.cos(this.input(0).data)}}class DflowMathCosh extends DflowNode{static kind="mathCosh";static inputs=[input6("number")];static outputs=[output5("number")];run(){this.output(0).data=Math.cosh(this.input(0).data)}}class DflowMathFloor extends DflowNode{static kind="mathFloor";static inputs=[input6("number")];static outputs=[output5("number")];run(){this.output(0).data=Math.floor(this.input(0).data)}}class DflowMathMax extends DflowNode{static kind="mathMax";static inputs=[input6("array")];static outputs=[output5("number")];run(){const list=this.input(0).data;const data=Math.max(...list);if(isNaN(data)){this.output(0).clear()}else{this.output(0).data=data}}}class DflowMathMin extends DflowNode{static kind="mathMin";static inputs=[input6("array")];static outputs=[output5("number")];run(){const list=this.input(0).data;const data=Math.min(...list);if(isNaN(data)){this.output(0).clear()}else{this.output(0).data=data}}}class DflowMathPI extends DflowNode{static kind="mathPI";static outputs=[output5("number",{name:"\u03C0",data:Math.PI})]}class DflowMathRound extends DflowNode{static kind="mathRound";static inputs=[input6("number")];static outputs=[output5("number")];run(){this.output(0).data=Math.round(this.input(0).data)}}class DflowMathSin extends DflowNode{static kind="mathSin";static inputs=[input6("number")];static outputs=[output5("number")];run(){this.output(0).data=Math.sin(this.input(0).data)}}class DflowMathSinh extends DflowNode{static kind="mathSinh";static inputs=[input6("number")];static outputs=[output5("number")];run(){this.output(0).data=Math.sinh(this.input(0).data)}}const catalog5={[DflowMathAbs.kind]:DflowMathAbs,[DflowMathCos.kind]:DflowMathCos,[DflowMathCosh.kind]:DflowMathCosh,[DflowMathFloor.kind]:DflowMathFloor,[DflowMathMax.kind]:DflowMathMax,[DflowMathMin.kind]:DflowMathMin,[DflowMathPI.kind]:DflowMathPI,[DflowMathRound.kind]:DflowMathRound,[DflowMathSin.kind]:DflowMathSin,[DflowMathSinh.kind]:DflowMathSinh};const{input:input7,output:output6}=DflowNode;class DflowIsFinite extends DflowNode{static kind="isFinite";static inputs=[input7()];static outputs=[output6("boolean")];run(){this.output(0).data=Number.isFinite(this.input(0).data)}}class DflowIsInteger extends DflowNode{static kind="isInteger";static inputs=[input7()];static outputs=[output6("boolean")];run(){this.output(0).data=Number.isInteger(this.input(0).data)}}class DflowParseFloat extends DflowNode{static kind="parseFloat";static inputs=[input7("string")];static outputs=[output6("number")];run(){this.output(0).data=parseFloat(this.input(0).data)}}class DflowParseInt extends DflowNode{static kind="parseInt";static inputs=[input7(["number","string"])];static outputs=[output6("number")];run(){this.output(0).data=parseInt(this.input(0).data)}}const catalog6={[DflowIsFinite.kind]:DflowIsFinite,[DflowIsInteger.kind]:DflowIsInteger,[DflowParseFloat.kind]:DflowParseFloat,[DflowParseInt.kind]:DflowParseInt};const{input:input8,output:output7}=DflowNode;class DflowObjectKeys extends DflowNode{static kind="objectKeys";static inputs=[input8("object")];static outputs=[output7("array")];run(){this.output(0).data=Object.keys(this.input(0).data)}}class DflowObjectValues extends DflowNode{static kind="objectValues";static inputs=[input8("object")];static outputs=[output7("array")];run(){this.output(0).data=Object.values(this.input(0).data)}}const catalog7={[DflowObjectKeys.kind]:DflowObjectKeys,[DflowObjectValues.kind]:DflowObjectValues};const{input:input9,output:output8}=DflowNode;class DflowAddition extends DflowNode{static kind="addition";static inputs=[input9("number"),input9("number")];static outputs=[output8("number")];run(){this.output(0).data=this.input(0).data+this.input(1).data}}class DflowDivision extends DflowNode{static kind="division";static inputs=[input9("number"),input9("number")];static outputs=[output8("number")];run(){if(this.input(1).data){this.output(0).data=this.input(0).data/this.input(1).data}else{this.output(0).clear()}}}class DflowEquality extends DflowNode{static kind="equality";static inputs=[input9(),input9()];static outputs=[output8("boolean")];run(){this.output(0).data=this.input(0).data==this.input(1).data}}class DflowLessThan extends DflowNode{static kind="lessThan";static inputs=[input9("number"),input9("number")];static outputs=[output8("boolean")];run(){this.output(0).data=this.input(0).data<this.input(1).data}}class DflowLessThanOrEqual extends DflowNode{static kind="lessThanOrEqual";static inputs=[input9("number"),input9("number")];static outputs=[output8("boolean")];run(){this.output(0).data=this.input(0).data<=this.input(1).data}}class DflowGreaterThan extends DflowNode{static kind="greaterThan";static inputs=[input9("number"),input9("number")];static outputs=[output8("boolean")];run(){this.output(0).data=this.input(0).data>this.input(1).data}}class DflowGreaterThanOrEqual extends DflowNode{static kind="greaterThanOrEqual";static inputs=[input9("number"),input9("number")];static outputs=[output8("boolean")];run(){this.output(0).data=this.input(0).data>=this.input(1).data}}class DflowInequality extends DflowNode{static kind="inequality";static inputs=[input9(),input9()];static outputs=[output8("boolean")];run(){this.output(0).data=this.input(0).data!=this.input(1).data}}class DflowMultiplication extends DflowNode{static kind="multiplication";static inputs=[input9("number"),input9("number")];static outputs=[output8("number")];run(){this.output(0).data=this.input(0).data*this.input(1).data}}class DflowSubtraction extends DflowNode{static kind="subtraction";static inputs=[input9("number"),input9("number")];static outputs=[output8("number")];run(){this.output(0).data=this.input(0).data-this.input(1).data}}const catalog8={[DflowAddition.kind]:DflowAddition,[DflowDivision.kind]:DflowDivision,[DflowEquality.kind]:DflowEquality,[DflowGreaterThan.kind]:DflowGreaterThan,[DflowGreaterThanOrEqual.kind]:DflowGreaterThanOrEqual,[DflowLessThan.kind]:DflowLessThan,[DflowLessThanOrEqual.kind]:DflowLessThanOrEqual,[DflowInequality.kind]:DflowInequality,[DflowMultiplication.kind]:DflowMultiplication,[DflowSubtraction.kind]:DflowSubtraction};const{input:input10,output:output9}=DflowNode;class DflowNodeStringLength extends DflowNode{static kind="stringLength";static inputs=[input10("string")];static outputs=[output9("number")];run(){this.output(0).data=this.input(0).data.length}}class DflowNodeSubstring extends DflowNode{static kind="substring";static inputs=[input10("string"),input10("number",{name:"start"}),input10("number",{name:"end",optional:true})];static outputs=[output9("string")];run(){const str=this.input(0).data;const start=this.input(1).data;const end=this.input(2).data;this.output(0).data=str.substring(start,end)}}const catalog9={[DflowNodeSubstring.kind]:DflowNodeSubstring,[DflowNodeStringLength.kind]:DflowNodeStringLength};const nodesCatalog={...catalog,...catalog1,...catalog2,...catalog3,...catalog4,...catalog5,...catalog6,...catalog7,...catalog8,...catalog9};export{nodesCatalog};
