require=function e(t,n,r){function o(c,u){if(!n[c]){if(!t[c]){var a="function"==typeof require&&require;if(!u&&a)return a(c,!0);if(i)return i(c,!0);var s=new Error("Cannot find module '"+c+"'");throw s.code="MODULE_NOT_FOUND",s}var p=n[c]={exports:{}};t[c][0].call(p.exports,function(e){var n=t[c][1][e];return o(n?n:e)},p,p.exports,e,t,n,r)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<r.length;c++)o(r[c]);return o}({1:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function u(){var e;try{e=n.storage.debug}catch(t){}return e}function a(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=i,n.formatArgs=o,n.save=c,n.load=u,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:a(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(u())},{"./debug":2}],2:[function(e,t,n){function r(){return n.colors[p++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(s||t);e.diff=i,e.prev=s,e.curr=t,s=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var c=Array.prototype.slice.call(arguments);c[0]=n.coerce(c[0]),"string"!=typeof c[0]&&(c=["%o"].concat(c));var u=0;c[0]=c[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;u++;var o=n.formatters[r];if("function"==typeof o){var i=c[u];t=o.call(e,i),c.splice(u,1),u--}return t}),"function"==typeof n.formatArgs&&(c=n.formatArgs.apply(e,c));var a=o.log||n.log||console.log.bind(console);a.apply(e,c)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;r>o;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function c(){n.enable("")}function u(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function a(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=a,n.disable=c,n.enable=i,n.enabled=u,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var s,p=0},{ms:3}],3:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*p;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function o(e){return e>=p?Math.round(e/p)+"d":e>=s?Math.round(e/s)+"h":e>=a?Math.round(e/a)+"m":e>=u?Math.round(e/u)+"s":e+"ms"}function i(e){return c(e,p,"day")||c(e,s,"hour")||c(e,a,"minute")||c(e,u,"second")||e+" ms"}function c(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var u=1e3,a=60*u,s=60*a,p=24*s,f=365.25*p;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?i(e):o(e)}},{}],4:[function(e,t,n){var r=e("debug");n.compile=r("dflow:compile"),n.inject=r("dflow:inject"),n.run=r("dflow:run")},{debug:1}],5:[function(e,t,n){function r(e,t){function n(n){"undefined"==typeof E[n]&&(E[n]=r(e.func[n],t))}function i(){function t(e,t){return"undefined"==typeof x[e]&&(x[e]=O(e)),"undefined"==typeof x[t]&&(x[t]=O(t)),x[e]-x[t]}function n(e){var t=s(e),n=j[e],i=E[n];if(b("task "+e+" = "+n),!o){if("return"===n&&!o)return r=t[0],void(o=!0);if("undefined"==typeof i)throw new TypeError("Task "+n+" ["+e+"] is not defined");c[e]=i.apply(null,t)}}b("start");var r,o=!1,c={},a="fun start";"undefined"!=typeof e.info&&(a+=e.info);var s=l.bind(null,c,v);return E["this"]=function(){return i},E["this.graph"]=function(){return e},u(E,j,arguments),Object.keys(j).sort(t).forEach(n),b("end"),r}try{g(e,t)}catch(m){throw m}h("graph with "+Object.keys(e.task).length+" tasks and "+Object.keys(e.pipe).length+" pipes");var w=e.func||{},v=e.pipe,j=e.task,x={},O=d.bind(null,v,x),E=o;return E["dflow.fun"]=r,E["dflow.isDflowFun"]=y,E["dflow.validate"]=g,p(E,j),a(E,e),c(E,t),s(E,j),f(E,j),Object.keys(w).forEach(n),i.graph=e,i}var o=e("./functions/builtin"),i=e("./debug"),c=e("./inject/additionalFunctions"),u=e("./inject/arguments"),a=e("./inject/accessors"),s=e("./inject/dotOperators"),p=e("./inject/globals"),f=e("./inject/references"),l=e("./inputArgs"),y=e("./isDflowFun"),d=e("./level"),g=e("./validate"),b=i.run,h=i.compile;t.exports=r},{"./debug":4,"./functions/builtin":6,"./inject/accessors":8,"./inject/additionalFunctions":9,"./inject/arguments":10,"./inject/dotOperators":11,"./inject/globals":12,"./inject/references":13,"./inputArgs":14,"./isDflowFun":16,"./level":17,"./validate":23}],6:[function(e,n,r){function o(e,t){return e+t}function i(e,t){return e*t}function u(e,t){return e-t}function a(e,t){return e/t}function s(e,t){return e%t}function p(e,t){return e&&t}function f(e,t){return e||t}function l(e){return!e}function y(e,t){return e==t}function d(e,t){return e===t}function g(e,t){return e!=t}function b(e,t){return e!==t}function h(e,t){return e>t}function m(e,t){return t>e}function w(e,t){return e>=t}function v(e,t){return t>=e}function j(e,t,n){return e.apply(t,n)}function x(e,t){return e[t]}function O(e){return typeof e}function E(){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3],o=arguments[4],i=arguments[5],c=arguments.length-1;return 0===c?new e:1===c?new e(t):2===c?new e(t,n):3===c?new e(t,n,r):4===c?new e(t,n,r,o):5===c?new e(t,n,r,o,i):void 0}function S(){return[]}r["+"]=o,r["*"]=i,r["-"]=u,r["/"]=a,r["%"]=s,r["&&"]=p,r["||"]=f,r["!"]=l,r["=="]=y,r["==="]=d,r["!="]=g,r["!=="]=b,r[">"]=h,r["<"]=m,r[">="]=w,r["<="]=v,r.apply=j,r["."]=x,r["typeof"]=O,r["new"]=E,r["[]"]=S,r.isArray=Array.isArray,r.indexOf=function(e,t){return e.indexOf(t)},r.filter=function(e,t,n){return"undefined"==typeof n?e.filter(c,n):e.filter(c)},r.forEach=function(e,n){return"undefined"==typeof t?e.forEach(n,t):e.forEach(n)},r["Array.prototype.join"]=Array.prototype.join,r["Array.prototype.map"]=Array.prototype.map,r["Array.prototype.pop"]=Array.prototype.pop,r["Array.prototype.push"]=Array.prototype.push,r["Array.prototype.reduce"]=Array.prototype.reduce,r["Array.prototype.slice"]=Array.prototype.slice,r["Array.prototype.sort"]=Array.prototype.sort,r["console.error"]=console.error.bind(console),r["console.log"]=console.log.bind(console),r["Function.prototype"]=Function.prototype,r.Infinity=function(){return 1/0},r.NaN=function(){return NaN},r["null"]=function(){return null},r["{}"]=function(){return{}},r["Object.prototype.defineProperties"]=Object.prototype.defineProperties,r["Object.prototype.defineProperty"]=Object.prototype.defineProperty,r["Object.prototype.hasOwnProperty"]=Object.prototype.hasOwnProperty,r["Object.prototype.isPrototypeOf"]=Object.prototype.isPrototypeOf,r["Object.prototype.propertyIsEnumerable"]=Object.prototype.propertyIsEnumerable,r["Object.prototype.toLocaleString"]=Object.prototype.toLocaleString,r["Object.prototype.toString"]=Object.prototype.toString,r["Object.prototype.valueOf"]=Object.prototype.valueOf,r["''"]=function(){return""},r["String.prototype.charAt"]=String.prototype.charAt,r["String.prototype.charCodeAt"]=String.prototype.charCodeAt,r["String.prototype.concat"]=String.prototype.concat,r["String.prototype.indexOf"]=String.prototype.indexOf,r["String.prototype.lastIndexOf"]=String.prototype.lastIndexOf,r["String.prototype.repeat"]=String.prototype.repeat,r["String.prototype.search"]=String.prototype.search,r["String.prototype.slice"]=String.prototype.slice,r["String.prototype.split"]=String.prototype.split,r["String.prototype.substr"]=String.prototype.substr,r["String.prototype.substring"]=String.prototype.substring,r["String.prototype.toLocaleLowerCase"]=String.prototype.toLocaleLowerCase,r["String.prototype.toLocaleUpperCase"]=String.prototype.toLocaleUpperCase,r["String.prototype.toLowerCase"]=String.prototype.toLowerCase,r["String.prototype.toUpperCase"]=String.prototype.toUpperCase,r["String.prototype.trim"]=String.prototype.trim},{}],7:[function(e,t,n){n.document=function(){return document},n.body=function(){return document.body},exportshead=function(){return document.head},n.window=function(){return window}},{}],8:[function(e,t,n){function r(e,t){function n(n){function r(){return 1===arguments.length&&(t.data[c]=arguments[0]),t.data[c]}var c,u=t.task[n];o.test(u)&&(c=u.substring(1),i(u),e[u]=r)}"undefined"==typeof t.data&&(t.data={}),Object.keys(t.task).forEach(n)}var o=e("../regex/accessor"),i=e("../debug").inject;t.exports=r},{"../debug":4,"../regex/accessor":19}],9:[function(e,t,n){function r(e,t){function n(n){var r="function"==typeof t[n];r&&(e[n]=t[n])}"undefined"!=typeof t&&(o(Object.keys(t).length+" additionalFunctions"),Object.keys(t).forEach(n))}var o=e("../debug").inject;t.exports=r},{"../debug":4}],10:[function(e,t,n){function r(e,t,n){function r(e){return n[e]}function c(c){var u=t[c];if("arguments"===u)i("arguments"),e[u]=function(){return n};else{var a=o.exec(u);a&&(i(u),e[u]=r.bind(null,a[1]))}}Object.keys(t).forEach(c)}var o=e("../regex/argument"),i=e("../debug").inject;t.exports=r},{"../debug":4,"../regex/argument":20}],11:[function(e,t,n){function r(e,t){function n(n){function r(e,t){var n;return"object"==typeof t&&(n=t[e]),"function"==typeof n?n.apply(t,Array.prototype.slice.call(arguments,2)):void 0}function c(e,t){var n;return"object"==typeof t&&(n=t[e]),"function"==typeof n?n.bind(t):n}var u=t[n];i.func.test(u)&&(attributeName=u.substring(1,u.length-2),o(u),e[u]=r.bind(null,attributeName)),i.attr.test(u)&&(attributeName=u.substring(1),o(u),e[u]=c.bind(null,attributeName))}Object.keys(t).forEach(n)}var o=e("../debug").inject,i=e("../regex/dotOperator");t.exports=r},{"../debug":4,"../regex/dotOperator":21}],12:[function(e,t,n){function r(e,t){function n(n){var r=t[n];if("function"!=typeof e[r]&&"return"!==r&&"this.graph"!==r){var c=i(r);"undefined"!=typeof c&&(o("global "+r),"function"==typeof c?e[r]=c:e[r]=function(){return c})}}Object.keys(t).forEach(n)}var o=e("../debug").inject,i=e("../walkGlobal");t.exports=r},{"../debug":4,"../walkGlobal":24}],13:[function(e,t,n){function r(e,t){function n(n){function r(){return a}var u,a,s=t[n];i.test(s)&&(u=s.substring(1),a="function"==typeof e[u]?e[u]:c(u),"function"==typeof a&&(o("reference to "+u),e[s]=r))}Object.keys(t).forEach(n)}var o=e("../debug").inject,i=e("../regex/reference"),c=e("../walkGlobal");t.exports=r},{"../debug":4,"../regex/reference":22,"../walkGlobal":24}],14:[function(e,t,n){function r(e,t,n){function r(t){var n=t[2]||0,r=e[t[0]];i[n]=r}var i=[],c=o.bind(null,t);return c(n).forEach(r),i}var o=e("./inputPipes");t.exports=r},{"./inputPipes":15}],15:[function(e,t,n){function r(e,t){function n(t){o.push(e[t])}function r(n){return e[n][1]===t}var o=[];return Object.keys(e).filter(r).forEach(n),o}t.exports=r},{}],16:[function(e,t,n){function r(e){var t="function"==typeof e,n="object"==typeof e.graph,r="object"==typeof e.funcs,i=!1;return t&&n&&r&&(i=o(e.graph,e.funcs)),i}var o=e("./validate");t.exports=r},{"./validate":23}],17:[function(e,t,n){function r(e,t,n){function i(n){c=Math.max(c,r(e,t,n)+1)}var c=0,u=o.bind(null,e);return"number"==typeof t[n]?t[n]:(u(n).forEach(i),t[n]=c,c)}var o=e("./parents");t.exports=r},{"./parents":18}],18:[function(e,t,n){function r(e,t){function n(e){i.push(e[0])}var r=o.bind(null,e),i=[];return r(t).forEach(n),i}var o=e("./inputPipes");t.exports=r},{"./inputPipes":15}],19:[function(e,t,n){t.exports=/^@(.+)$/},{}],20:[function(e,t,n){t.exports=/^arguments\[(\d+)\]$/},{}],21:[function(e,t,n){n.attr=/^\.([a-zA-Z_$][0-9a-zA-Z_$]+)$/,n.func=/^\.([a-zA-Z_$][0-9a-zA-Z_$]+)\(\)$/},{}],22:[function(e,t,n){t.exports=/^\&(.+)$/},{}],23:[function(e,t,n){function r(e,t){function n(e,t){if(e===t)throw new TypeError("Reserved function name: "+e)}function a(e){var t=p[e][2]||0,n=p[e][0],r=p[e][1];if("number"!=typeof t)throw new TypeError("Invalid pipe:",p[e]);if("string"!=typeof n)throw new TypeError("Invalid pipe:",p[e]);if("string"!=typeof r)throw new TypeError("Invalid pipe:",p[e]);if("undefined"==typeof f[n])throw new Error("Orphan pipe:",p[e]);if("undefined"==typeof f[r])throw new Error("Orphan pipe:",p[e]);if("undefined"==typeof g[n]&&(g[n]={}),"undefined"==typeof g[n][r]&&(g[n][r]=[]),"undefined"!=typeof g[n][r][t])throw new Error("Duplicated pipe:",p[e]);g[n][r][t]=!0}function s(e){r(y[e],t)}var p=e.pipe,f=e.task,l=e.data||{},y=e.func||{},d=e.info||{},g={};if("object"==typeof t)for(var b in t){var h=["return","arguments","this","this.graph"],m=n.bind(null,b);if(h.forEach(m),i.test(b))throw new TypeError("Reserved function name: "+b);if(o.test(b))throw new TypeError('Function name cannot start with "@": '+b);if(c.attr.test(b))throw new TypeError('Function name cannot start with ".":'+b);if(c.func.test(b))throw new TypeError('Function name cannot start with "." and end with "()":'+b);if(u.test(b))throw new TypeError('Function name cannot start with "&": '+b)}if("object"!=typeof p)throw new TypeError("Not an object: pipe",p);if("object"!=typeof f)throw new TypeError("Not an object: task",f);if("object"!=typeof l)throw new TypeError("Not an object: data",l);if("object"!=typeof y)throw new TypeError("Not an object: func",y);if("object"!=typeof d)throw new TypeError("Not an object: info",d);return Object.keys(p).forEach(a),"object"==typeof y&&Object.keys(y).forEach(s),!0}var o=e("./regex/accessor"),i=e("./regex/argument"),c=e("./regex/dotOperator"),u=e("./regex/reference");t.exports=r},{"./regex/accessor":19,"./regex/argument":20,"./regex/dotOperator":21,"./regex/reference":22}],24:[function(e,t,n){(function(e){function n(e){function t(e,t){return e[t]}return e.split(".").reduce(t,r)}var r;"object"==typeof window&&(r=window),"object"==typeof e&&(r=e),t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],dflow:[function(e,t,n){function r(e){function t(e){n[e]=o[e]}var n=arguments[1]||{};return Object.keys(o).forEach(t),i(e,n)}var o=e("../functions/window"),i=e("../fun");n.fun=r},{"../fun":5,"../functions/window":7}]},{},[]);