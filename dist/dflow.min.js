require=function n(t,e,r){function o(i,f){if(!e[i]){if(!t[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var s=e[i]={exports:{}};t[i][0].call(s.exports,function(n){var e=t[i][1][n];return o(e?e:n)},s,s.exports,n,t,e,r)}return e[i].exports}for(var u="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(n,t,e){function r(n,t){function e(e){var o=n.func[e],u="/"+e;E[u]=r(o,t)}function h(){function t(n,t){return"undefined"==typeof j[n]&&(j[n]=m(n)),"undefined"==typeof j[t]&&(j[t]=m(t)),j[n]-j[t]}function e(n){var t=a(n),e=x[n],r=E[e];if(!i){if("return"===e&&!i)return o=t[0],void(i=!0);if("undefined"==typeof r)throw new TypeError("Task "+e+" ["+n+"] is not defined");c[n]=r.apply(null,t)}}function r(n){return!u.test(x[n])}var o,i=!1,c={},a=d.bind(null,c,v);return E["this"]=function(){return h},E["this.graph"]=function(){return n},f(E,x,arguments),Object.keys(x).filter(r).sort(t).forEach(e),o}try{y(n,t)}catch(g){throw g}var b=n.func||{},v=n.pipe,x=n.task,j={},m=w.bind(null,v,j),E=o;return E["dflow.fun"]=r,E["dflow.isDflowFun"]=l,E["dflow.validate"]=y,s(E,x),c(E,n),i(E,t),a(E,x),p(E,x),Object.keys(b).forEach(e),h.graph=n,h}var o=n("./functions/builtin"),u=n("./regex/comment"),i=n("./inject/additionalFunctions"),f=n("./inject/arguments"),c=n("./inject/accessors"),a=n("./inject/dotOperators"),s=n("./inject/globals"),p=n("./inject/references"),d=n("./inputArgs"),l=n("./isDflowFun"),w=n("./level"),y=n("./validate");t.exports=r},{"./functions/builtin":2,"./inject/accessors":4,"./inject/additionalFunctions":5,"./inject/arguments":6,"./inject/dotOperators":7,"./inject/globals":8,"./inject/references":9,"./inputArgs":10,"./isDflowFun":12,"./level":13,"./regex/comment":17,"./validate":21}],2:[function(n,e,r){function o(n,t){return n+t}function u(n,t){return n*t}function i(n,t){return n-t}function f(n,t){return n/t}function a(n,t){return n%t}function s(n,t){return n&&t}function p(n,t){return n||t}function d(n){return!n}function l(n,t){return n==t}function w(n,t){return n===t}function y(n,t){return n!=t}function h(n,t){return n!==t}function g(n,t){return n>t}function b(n,t){return t>n}function v(n,t){return n>=t}function x(n,t){return t>=n}function j(n,t,e){return n.apply(t,e)}function m(n,t){return n[t]}function E(n){return typeof n}function O(){var n=arguments[0],t=arguments[1],e=arguments[2],r=arguments[3],o=arguments[4],u=arguments[5],i=arguments.length-1;return 0===i?new n:1===i?new n(t):2===i?new n(t,e):3===i?new n(t,e,r):4===i?new n(t,e,r,o):5===i?new n(t,e,r,o,u):void 0}function k(){return[]}r["+"]=o,r["*"]=u,r["-"]=i,r["/"]=f,r["%"]=a,r["&&"]=s,r["||"]=p,r["!"]=d,r["=="]=l,r["==="]=w,r["!="]=y,r["!=="]=h,r[">"]=g,r["<"]=b,r[">="]=v,r["<="]=x,r.apply=j,r["."]=m,r["typeof"]=E,r["new"]=O,r["[]"]=k,r.isArray=Array.isArray,r.indexOf=function(n,t){return n.indexOf(t)},r.filter=function(n,t,e){return"undefined"==typeof e?n.filter(c,e):n.filter(c)},r.forEach=function(n,e){return"undefined"==typeof t?n.forEach(e,t):n.forEach(e)},r["console.error"]=console.error.bind(console),r["console.log"]=console.log.bind(console),r.Infinity=function(){return 1/0},r.NaN=function(){return NaN},r["null"]=function(){return null},r["{}"]=function(){return{}},r["''"]=function(){return""}},{}],3:[function(n,t,e){e.document=function(){return document},e.body=function(){return document.body},e.head=function(){return document.head},e.window=function(){return window},e.AudioContext=function(){return window.AudioContext||window.webkitAudioContext}},{}],4:[function(n,t,e){function r(n,t){function e(e){function r(){return 1===arguments.length&&(t.data[u]=arguments[0]),t.data[u]}var u,i=t.task[e];o.test(i)&&(u=i.substring(1),n[i]=r)}"undefined"==typeof t.data&&(t.data={}),Object.keys(t.task).forEach(e)}var o=n("../regex/accessor");t.exports=r},{"../regex/accessor":15}],5:[function(n,t,e){function r(n,t){function e(e){var r="function"==typeof t[e];r&&(n[e]=t[e])}"undefined"!=typeof t&&Object.keys(t).forEach(e)}t.exports=r},{}],6:[function(n,t,e){function r(n,t,e){function r(n){return e[n]}function u(u){var i=t[u];if("arguments"===i)n[i]=function(){return e};else{var f=o.exec(i);f&&(n[i]=r.bind(null,f[1]))}}Object.keys(t).forEach(u)}var o=n("../regex/argument");t.exports=r},{"../regex/argument":16}],7:[function(n,t,e){function r(n,t){function e(e){function r(n,t){var e;return"object"==typeof t&&(e=t[n]),"function"==typeof e?e.apply(t,Array.prototype.slice.call(arguments,2)):void 0}function u(n,t){var e;return"object"==typeof t&&(e=t[n]),"function"==typeof e?e.bind(t):e}var i=t[e];o.func.test(i)&&(attributeName=i.substring(1,i.length-2),n[i]=r.bind(null,attributeName)),o.attr.test(i)&&(attributeName=i.substring(1),n[i]=u.bind(null,attributeName))}Object.keys(t).forEach(e)}var o=n("../regex/dotOperator");t.exports=r},{"../regex/dotOperator":18}],8:[function(n,t,e){function r(n,t){function e(e){var r=t[e];if("function"!=typeof n[r]&&"return"!==r&&"this.graph"!==r){var u=o(r);"undefined"!=typeof u&&("function"==typeof u?n[r]=u:n[r]=function(){return u})}}Object.keys(t).forEach(e)}var o=n("../walkGlobal");t.exports=r},{"../walkGlobal":22}],9:[function(n,t,e){function r(n,t){function e(e){function r(){return f}var i,f,c=t[e];o.test(c)&&(i=c.substring(1),f="function"==typeof n[i]?n[i]:u(i),"function"==typeof f&&(n[c]=r))}Object.keys(t).forEach(e)}var o=n("../regex/reference"),u=n("../walkGlobal");t.exports=r},{"../regex/reference":19,"../walkGlobal":22}],10:[function(n,t,e){function r(n,t,e){function r(t){var e=t[2]||0,r=n[t[0]];u[e]=r}var u=[],i=o.bind(null,t);return i(e).forEach(r),u}var o=n("./inputPipes");t.exports=r},{"./inputPipes":11}],11:[function(n,t,e){function r(n,t){function e(t){o.push(n[t])}function r(e){return n[e][1]===t}var o=[];return Object.keys(n).filter(r).forEach(e),o}t.exports=r},{}],12:[function(n,t,e){function r(n){var t="function"==typeof n,e="object"==typeof n.graph,r="object"==typeof n.funcs,u=!1;return t&&e&&r&&(u=o(n.graph,n.funcs)),u}var o=n("./validate");t.exports=r},{"./validate":21}],13:[function(n,t,e){function r(n,t,e){function u(e){i=Math.max(i,r(n,t,e)+1)}var i=0,f=o.bind(null,n);return"number"==typeof t[e]?t[e]:(f(e).forEach(u),t[e]=i,i)}var o=n("./parents");t.exports=r},{"./parents":14}],14:[function(n,t,e){function r(n,t){function e(n){u.push(n[0])}var r=o.bind(null,n),u=[];return r(t).forEach(e),u}var o=n("./inputPipes");t.exports=r},{"./inputPipes":11}],15:[function(n,t,e){t.exports=/^@[\w][\w\d]+$/},{}],16:[function(n,t,e){t.exports=/^arguments\[(\d+)\]$/},{}],17:[function(n,t,e){t.exports=/^\/\/.+$/},{}],18:[function(n,t,e){e.attr=/^\.([a-zA-Z_$][0-9a-zA-Z_$]+)$/,e.func=/^\.([a-zA-Z_$][0-9a-zA-Z_$]+)\(\)$/},{}],19:[function(n,t,e){t.exports=/^\&(.+)$/},{}],20:[function(n,t,e){t.exports=/^\/[\w][\w\d]+$/},{}],21:[function(n,t,e){function r(n,t){function e(n,t){if(n===t)throw new TypeError("Reserved function name: "+n)}function c(n){var t=d[n][2]||0,e=d[n][0],r=d[n][1];if("number"!=typeof t)throw new TypeError("Invalid pipe: "+d[n]);if("string"!=typeof e)throw new TypeError("Invalid pipe: "+d[n]);if("string"!=typeof r)throw new TypeError("Invalid pipe: "+d[n]);if("undefined"==typeof l[e])throw new Error("Orphan pipe: "+d[n]);if("undefined"==typeof l[r])throw new Error("Orphan pipe: "+d[n]);if("undefined"==typeof g[e]&&(g[e]={}),"undefined"==typeof g[e][r]&&(g[e][r]=[]),"undefined"!=typeof g[e][r][t])throw new Error("Duplicated pipe: "+d[n]);g[e][r][t]=!0}function a(n){var t=l[n];return subgraphRegex.test(t)}function s(n){var t=l[n],e=t.substring(1);if("undefined"==typeof y[e])throw new Error("Undefined subgraph: "+e)}function p(n){r(y[n],t)}var d=n.pipe,l=n.task,w=n.data||{},y=n.func||{},h=n.info||{},g={};if("object"==typeof t)for(var b in t){var v=["return","arguments","this","this.graph"],x=e.bind(null,b);if(v.forEach(x),u.test(b))throw new TypeError("Reserved function name: "+b);if(o.test(b))throw new TypeError('Function name cannot start with "@": '+b);if(i.attr.test(b))throw new TypeError('Function name cannot start with ".":'+b);if(i.func.test(b))throw new TypeError('Function name cannot start with "." and end with "()":'+b);if(f.test(b))throw new TypeError('Function name cannot start with "&": '+b)}if("object"!=typeof d)throw new TypeError("Not an object: pipe "+d);if("object"!=typeof l)throw new TypeError("Not an object: task "+l);if("object"!=typeof w)throw new TypeError("Not an object: data "+w);if("object"!=typeof y)throw new TypeError("Not an object: func "+y);if("object"!=typeof h)throw new TypeError("Not an object: info "+h);return Object.keys(d).forEach(c),Object.keys(l).filter(a).forEach(s),"object"==typeof y&&Object.keys(y).forEach(p),!0}var o=n("./regex/accessor"),u=n("./regex/argument"),i=n("./regex/dotOperator"),f=n("./regex/reference");subgraphRegex=n("./regex/subgraph"),t.exports=r},{"./regex/accessor":15,"./regex/argument":16,"./regex/dotOperator":18,"./regex/reference":19,"./regex/subgraph":20}],22:[function(n,t,e){(function(n){function e(n){function t(n,t){return n[t]}return n.split(".").reduce(t,r)}var r;"object"==typeof window&&(r=window),"object"==typeof n&&(r=n),t.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],dflow:[function(n,t,e){function r(n){function t(n){e[n]=o[n]}var e=arguments[1]||{};return Object.keys(o).forEach(t),u(n,e)}var o=n("../functions/window"),u=n("../fun");e.fun=r},{"../fun":1,"../functions/window":3}]},{},[]);