require=function e(t,r,n){function o(u,p){if(!r[u]){if(!t[u]){var f="function"==typeof require&&require;if(!p&&f)return f(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var a=r[u]={exports:{}};t[u][0].call(a.exports,function(e){var r=t[u][1][e];return o(r?r:e)},a,a.exports,e,t,r,n)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(t,e,r){function n(t,e){function r(r){"undefined"==typeof m[r]&&(m[r]=n(t.func[r],e))}function g(){function e(t,e){return"undefined"==typeof j[t]&&(j[t]=O(t)),"undefined"==typeof j[e]&&(j[e]=O(e)),j[t]-j[e]}function r(t){var e=f(t),r=v[t],u=m[r];if(!o){if("return"===r&&!o)return n=e[0],void(o=!0);if("undefined"==typeof u)throw new TypeError("Task "+r+" ["+t+"] is not defined");i[t]=u.apply(null,e)}}var n,o=!1,i={},p="fun start";"undefined"!=typeof t.info&&(p+=t.info);var f=s.bind(null,i,h);return m["this"]=function(){return g},m["this.graph"]=function(){return t},u(m,v,arguments),Object.keys(v).sort(e).forEach(r),n}try{l(t,e)}catch(b){throw b}var w=t.func||{},h=t.pipe,v=t.task,j={},O=d.bind(null,h,j),m=o;return m["dflow.fun"]=n,m["dflow.isDflowFun"]=y,m["dflow.validate"]=l,c(m,v),p(m,t),i(m,e),f(m,v),a(m,v),Object.keys(w).forEach(r),g.graph=t,g}var o=t("./functions/builtin"),i=t("./inject/additionalFunctions"),u=t("./inject/arguments"),p=t("./inject/accessors"),f=t("./inject/dotOperators"),c=t("./inject/globals"),a=t("./inject/references"),s=t("./inputArgs"),y=t("./isDflowFun"),d=t("./level"),l=t("./validate");e.exports=n},{"./functions/builtin":2,"./inject/accessors":4,"./inject/additionalFunctions":5,"./inject/arguments":6,"./inject/dotOperators":7,"./inject/globals":8,"./inject/references":9,"./inputArgs":10,"./isDflowFun":12,"./level":13,"./validate":19}],2:[function(e,r,n){function o(t,e){return t+e}function i(t,e){return t*e}function u(t,e){return t-e}function p(t,e){return t/e}function f(t,e){return t%e}function a(t,e){return t&&e}function s(t,e){return t||e}function y(t){return!t}function d(t,e){return t==e}function l(t,e){return t===e}function g(t,e){return t!=e}function b(t,e){return t!==e}function w(t,e){return t>e}function h(t,e){return e>t}function v(t,e){return t>=e}function j(t,e){return e>=t}function O(t,e,r){return t.apply(e,r)}function m(t,e){return t[e]}function x(t){return typeof t}function E(){var t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3],o=arguments[4],i=arguments[5],u=arguments.length-1;return 0===u?new t:1===u?new t(e):2===u?new t(e,r):3===u?new t(e,r,n):4===u?new t(e,r,n,o):5===u?new t(e,r,n,o,i):void 0}function S(){return[]}n["+"]=o,n["*"]=i,n["-"]=u,n["/"]=p,n["%"]=f,n["&&"]=a,n["||"]=s,n["!"]=y,n["=="]=d,n["==="]=l,n["!="]=g,n["!=="]=b,n[">"]=w,n["<"]=h,n[">="]=v,n["<="]=j,n.apply=O,n["."]=m,n["typeof"]=x,n["new"]=E,n["[]"]=S,n.isArray=Array.isArray,n.indexOf=function(t,e){return t.indexOf(e)},n.filter=function(t,e,r){return"undefined"==typeof r?t.filter(c,r):t.filter(c)},n.forEach=function(e,r){return"undefined"==typeof t?e.forEach(r,t):e.forEach(r)},n["Array.prototype.join"]=Array.prototype.join,n["Array.prototype.map"]=Array.prototype.map,n["Array.prototype.pop"]=Array.prototype.pop,n["Array.prototype.push"]=Array.prototype.push,n["Array.prototype.reduce"]=Array.prototype.reduce,n["Array.prototype.slice"]=Array.prototype.slice,n["Array.prototype.sort"]=Array.prototype.sort,n["console.error"]=console.error.bind(console),n["console.log"]=console.log.bind(console),n["Function.prototype"]=Function.prototype,n.Infinity=function(){return 1/0},n.NaN=function(){return NaN},n["null"]=function(){return null},n["{}"]=function(){return{}},n["Object.prototype.defineProperties"]=Object.prototype.defineProperties,n["Object.prototype.defineProperty"]=Object.prototype.defineProperty,n["Object.prototype.hasOwnProperty"]=Object.prototype.hasOwnProperty,n["Object.prototype.isPrototypeOf"]=Object.prototype.isPrototypeOf,n["Object.prototype.propertyIsEnumerable"]=Object.prototype.propertyIsEnumerable,n["Object.prototype.toLocaleString"]=Object.prototype.toLocaleString,n["Object.prototype.toString"]=Object.prototype.toString,n["Object.prototype.valueOf"]=Object.prototype.valueOf,n["''"]=function(){return""},n["String.prototype.charAt"]=String.prototype.charAt,n["String.prototype.charCodeAt"]=String.prototype.charCodeAt,n["String.prototype.concat"]=String.prototype.concat,n["String.prototype.indexOf"]=String.prototype.indexOf,n["String.prototype.lastIndexOf"]=String.prototype.lastIndexOf,n["String.prototype.repeat"]=String.prototype.repeat,n["String.prototype.search"]=String.prototype.search,n["String.prototype.slice"]=String.prototype.slice,n["String.prototype.split"]=String.prototype.split,n["String.prototype.substr"]=String.prototype.substr,n["String.prototype.substring"]=String.prototype.substring,n["String.prototype.toLocaleLowerCase"]=String.prototype.toLocaleLowerCase,n["String.prototype.toLocaleUpperCase"]=String.prototype.toLocaleUpperCase,n["String.prototype.toLowerCase"]=String.prototype.toLowerCase,n["String.prototype.toUpperCase"]=String.prototype.toUpperCase,n["String.prototype.trim"]=String.prototype.trim},{}],3:[function(t,e,r){r.document=function(){return document},r.body=function(){return document.body},r.head=function(){return document.head},r.window=function(){return window}},{}],4:[function(t,e,r){function n(t,e){function r(r){function n(){return 1===arguments.length&&(e.data[i]=arguments[0]),e.data[i]}var i,u=e.task[r];o.test(u)&&(i=u.substring(1),t[u]=n)}"undefined"==typeof e.data&&(e.data={}),Object.keys(e.task).forEach(r)}var o=t("../regex/accessor");e.exports=n},{"../regex/accessor":15}],5:[function(t,e,r){function n(t,e){function r(r){var n="function"==typeof e[r];n&&(t[r]=e[r])}"undefined"!=typeof e&&Object.keys(e).forEach(r)}e.exports=n},{}],6:[function(t,e,r){function n(t,e,r){function n(t){return r[t]}function i(i){var u=e[i];if("arguments"===u)t[u]=function(){return r};else{var p=o.exec(u);p&&(t[u]=n.bind(null,p[1]))}}Object.keys(e).forEach(i)}var o=t("../regex/argument");e.exports=n},{"../regex/argument":16}],7:[function(t,e,r){function n(t,e){function r(r){function n(t,e){var r;return"object"==typeof e&&(r=e[t]),"function"==typeof r?r.apply(e,Array.prototype.slice.call(arguments,2)):void 0}function i(t,e){var r;return"object"==typeof e&&(r=e[t]),"function"==typeof r?r.bind(e):r}var u=e[r];o.func.test(u)&&(attributeName=u.substring(1,u.length-2),t[u]=n.bind(null,attributeName)),o.attr.test(u)&&(attributeName=u.substring(1),t[u]=i.bind(null,attributeName))}Object.keys(e).forEach(r)}var o=t("../regex/dotOperator");e.exports=n},{"../regex/dotOperator":17}],8:[function(t,e,r){function n(t,e){function r(r){var n=e[r];if("function"!=typeof t[n]&&"return"!==n&&"this.graph"!==n){var i=o(n);"undefined"!=typeof i&&("function"==typeof i?t[n]=i:t[n]=function(){return i})}}Object.keys(e).forEach(r)}var o=t("../walkGlobal");e.exports=n},{"../walkGlobal":20}],9:[function(t,e,r){function n(t,e){function r(r){function n(){return p}var u,p,f=e[r];o.test(f)&&(u=f.substring(1),p="function"==typeof t[u]?t[u]:i(u),"function"==typeof p&&(t[f]=n))}Object.keys(e).forEach(r)}var o=t("../regex/reference"),i=t("../walkGlobal");e.exports=n},{"../regex/reference":18,"../walkGlobal":20}],10:[function(t,e,r){function n(t,e,r){function n(e){var r=e[2]||0,n=t[e[0]];i[r]=n}var i=[],u=o.bind(null,e);return u(r).forEach(n),i}var o=t("./inputPipes");e.exports=n},{"./inputPipes":11}],11:[function(t,e,r){function n(t,e){function r(e){o.push(t[e])}function n(r){return t[r][1]===e}var o=[];return Object.keys(t).filter(n).forEach(r),o}e.exports=n},{}],12:[function(t,e,r){function n(t){var e="function"==typeof t,r="object"==typeof t.graph,n="object"==typeof t.funcs,i=!1;return e&&r&&n&&(i=o(t.graph,t.funcs)),i}var o=t("./validate");e.exports=n},{"./validate":19}],13:[function(t,e,r){function n(t,e,r){function i(r){u=Math.max(u,n(t,e,r)+1)}var u=0,p=o.bind(null,t);return"number"==typeof e[r]?e[r]:(p(r).forEach(i),e[r]=u,u)}var o=t("./parents");e.exports=n},{"./parents":14}],14:[function(t,e,r){function n(t,e){function r(t){i.push(t[0])}var n=o.bind(null,t),i=[];return n(e).forEach(r),i}var o=t("./inputPipes");e.exports=n},{"./inputPipes":11}],15:[function(t,e,r){e.exports=/^@(.+)$/},{}],16:[function(t,e,r){e.exports=/^arguments\[(\d+)\]$/},{}],17:[function(t,e,r){r.attr=/^\.([a-zA-Z_$][0-9a-zA-Z_$]+)$/,r.func=/^\.([a-zA-Z_$][0-9a-zA-Z_$]+)\(\)$/},{}],18:[function(t,e,r){e.exports=/^\&(.+)$/},{}],19:[function(t,e,r){function n(t,e){function r(t,e){if(t===e)throw new TypeError("Reserved function name: "+t)}function f(t){var e=a[t][2]||0,r=a[t][0],n=a[t][1];if("number"!=typeof e)throw new TypeError("Invalid pipe:",a[t]);if("string"!=typeof r)throw new TypeError("Invalid pipe:",a[t]);if("string"!=typeof n)throw new TypeError("Invalid pipe:",a[t]);if("undefined"==typeof s[r])throw new Error("Orphan pipe:",a[t]);if("undefined"==typeof s[n])throw new Error("Orphan pipe:",a[t]);if("undefined"==typeof g[r]&&(g[r]={}),"undefined"==typeof g[r][n]&&(g[r][n]=[]),"undefined"!=typeof g[r][n][e])throw new Error("Duplicated pipe:",a[t]);g[r][n][e]=!0}function c(t){n(d[t],e)}var a=t.pipe,s=t.task,y=t.data||{},d=t.func||{},l=t.info||{},g={};if("object"==typeof e)for(var b in e){var w=["return","arguments","this","this.graph"],h=r.bind(null,b);if(w.forEach(h),i.test(b))throw new TypeError("Reserved function name: "+b);if(o.test(b))throw new TypeError('Function name cannot start with "@": '+b);if(u.attr.test(b))throw new TypeError('Function name cannot start with ".":'+b);if(u.func.test(b))throw new TypeError('Function name cannot start with "." and end with "()":'+b);if(p.test(b))throw new TypeError('Function name cannot start with "&": '+b)}if("object"!=typeof a)throw new TypeError("Not an object: pipe",a);if("object"!=typeof s)throw new TypeError("Not an object: task",s);if("object"!=typeof y)throw new TypeError("Not an object: data",y);if("object"!=typeof d)throw new TypeError("Not an object: func",d);if("object"!=typeof l)throw new TypeError("Not an object: info",l);return Object.keys(a).forEach(f),"object"==typeof d&&Object.keys(d).forEach(c),!0}var o=t("./regex/accessor"),i=t("./regex/argument"),u=t("./regex/dotOperator"),p=t("./regex/reference");e.exports=n},{"./regex/accessor":15,"./regex/argument":16,"./regex/dotOperator":17,"./regex/reference":18}],20:[function(t,e,r){(function(t){function r(t){function e(t,e){return t[e]}return t.split(".").reduce(e,n)}var n;"object"==typeof window&&(n=window),"object"==typeof t&&(n=t),e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],dflow:[function(t,e,r){function n(t){function e(t){r[t]=o[t]}var r=arguments[1]||{};return Object.keys(o).forEach(e),i(t,r)}var o=t("../functions/window"),i=t("../fun");r.fun=n},{"../fun":1,"../functions/window":3}]},{},[]);