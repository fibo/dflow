require=function n(t,e,r){function o(i,f){if(!e[i]){if(!t[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var s=e[i]={exports:{}};t[i][0].call(s.exports,function(n){var e=t[i][1][n];return o(e?e:n)},s,s.exports,n,t,e,r)}return e[i].exports}for(var u="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(n,t,e){function r(n,t){function e(e){var o=n.func[e],u="/"+e;T[u]=r(o,t)}function b(n,t){return"undefined"==typeof O[n]&&(O[n]=k(n)),"undefined"==typeof O[t]&&(O[t]=k(t)),O[n]-O[t]}function v(){function t(n){var t=c(n),e=E[n],u=T[e];if(!o){if("return"===e&&!o)return r=t[0],void(o=!0);if("undefined"==typeof u)throw new Error("Task "+e+" ["+n+"] is not defined");try{i[n]=u.apply(null,t)}catch(f){throw f}}}function e(n){return!u.test(E[n])}var r,o=!1,i={},c=w.bind(null,i,m);return T["this"]=function(){return v},T["this.graph"]=function(){return n},f(T,E,arguments),Object.keys(E).filter(e).sort(b).forEach(t),r}try{g(n,t)}catch(x){throw x}var j=n.func||{},m=n.pipe,E=n.task,O={},k=h.bind(null,m,O),T=o;return T["dflow.fun"]=r,T["dflow.isDflowFun"]=y,T["dflow.validate"]=g,c(T,n),i(T,t),a(T,E),s(T,E),d(T,E),p(T,E),l(T,E),Object.keys(j).forEach(e),v.graph=n,v}var o=n("./functions/builtin"),u=n("./regex/comment"),i=n("./inject/additionalFunctions"),f=n("./inject/arguments"),c=n("./inject/accessors"),a=n("./inject/dotOperators"),s=n("./inject/globals"),p=n("./inject/numbers"),d=n("./inject/references"),l=n("./inject/strings"),w=n("./inputArgs"),y=n("./isDflowFun"),h=n("./level"),g=n("./validate");t.exports=r},{"./functions/builtin":2,"./inject/accessors":4,"./inject/additionalFunctions":5,"./inject/arguments":6,"./inject/dotOperators":7,"./inject/globals":8,"./inject/numbers":9,"./inject/references":10,"./inject/strings":11,"./inputArgs":12,"./isDflowFun":14,"./level":15,"./regex/comment":19,"./validate":24}],2:[function(n,t,e){e["+"]=function(n,t){return n+t},e["*"]=function(n,t){return n*t},e["-"]=function(n,t){return n-t},e["/"]=function(n,t){return n/t},e["%"]=function(n,t){return n%t},e["&&"]=function(n,t){return n&&t},e["||"]=function(n,t){return n||t},e["!"]=function(n){return!n},e["==="]=function(n,t){return n===t},e["!=="]=function(n,t){return n!==t},e[">"]=function(n,t){return n>t},e["<"]=function(n,t){return t>n},e[">="]=function(n,t){return n>=t},e["<="]=function(n,t){return t>=n},e.apply=function(n,t,e){return n.apply(t,e)},e["."]=function(n,t){return n[t]},e["typeof"]=function(n){return typeof n},e["new"]=function(){var n=arguments[0],t=arguments[1],e=arguments[2],r=arguments[3],o=arguments[4],u=arguments[5],i=arguments.length-1;return 0===i?new n:1===i?new n(t):2===i?new n(t,e):3===i?new n(t,e,r):4===i?new n(t,e,r,o):5===i?new n(t,e,r,o,u):void 0},e["[]"]=function(){return[]},e.indexOf=function(n,t){return n.indexOf(t)},e.push=function(n,t){return n.push(t)},e.pop=function(n,t){return n.pop(t)},e["console.error"]=console.error.bind(console),e["console.log"]=console.log.bind(console),e.Infinity=function(){return 1/0},e.NaN=function(){return NaN},e["null"]=function(){return null},e["{}"]=function(){return{}},e["false"]=function(){return!1},e["true"]=function(){return!0}},{}],3:[function(n,t,e){e.document=function(){return document},e.body=function(){return document.body},e.head=function(){return document.head},e.window=function(){return window},e.AudioContext=function(){return window.AudioContext||window.webkitAudioContext},e.getElementById=function(n){return window.document.getElementById(n)},e.innerHTML=function(n,t){return n.innerHTML=t,n}},{}],4:[function(n,t,e){function r(n,t){function e(e){function r(){return 1===arguments.length&&(t.data[u]=arguments[0]),t.data[u]}var u=null,i=t.task[e];o.test(i)&&(u=i.substring(1),n[i]=r)}"undefined"==typeof t.data&&(t.data={}),Object.keys(t.task).forEach(e)}var o=n("../regex/accessor");t.exports=r},{"../regex/accessor":17}],5:[function(n,t,e){function r(n,t){function e(e){var r="function"==typeof t[e];r&&(n[e]=t[e])}"undefined"!=typeof t&&Object.keys(t).forEach(e)}t.exports=r},{}],6:[function(n,t,e){function r(n,t,e){function r(n){return e[n]}function u(u){var i=t[u];if("arguments"===i)n[i]=function(){return e};else{var f=o.exec(i);f&&(n[i]=r.bind(null,f[1]))}}Object.keys(t).forEach(u)}var o=n("../regex/argument");t.exports=r},{"../regex/argument":18}],7:[function(n,t,e){function r(n,t){function e(e){function r(n,t){var e;return"object"==typeof t&&(e=t[n]),"function"==typeof e?e.apply(t,Array.prototype.slice.call(arguments,2)):void 0}function u(n,t){var e;return"object"==typeof t&&(e=t[n]),"function"==typeof e?e.bind(t):e}var i=t[e];if(o.func.test(i)){var f=i.substring(1,i.length-2);n[i]=r.bind(null,f)}o.attr.test(i)&&(f=i.substring(1),n[i]=u.bind(null,f))}Object.keys(t).forEach(e)}var o=n("../regex/dotOperator");t.exports=r},{"../regex/dotOperator":20}],8:[function(n,t,e){function r(n,t){function e(e){var r=t[e];if("function"!=typeof n[r]&&"return"!==r&&"this.graph"!==r){var u=o(r);"undefined"!=typeof u&&("function"==typeof u?n[r]=u:n[r]=function(){return u})}}Object.keys(t).forEach(e)}var o=n("../walkGlobal");t.exports=r},{"../walkGlobal":25}],9:[function(n,t,e){function r(n,t){function e(e){var r=t[e],o=parseFloat(r);isNaN(o)||(n[r]=function(){return o})}Object.keys(t).forEach(e)}t.exports=r},{}],10:[function(n,t,e){function r(n,t){function e(e){function r(){return f}var i=null,f=null,c=t[e];o.test(c)&&(i=c.substring(1),f="function"==typeof n[i]?n[i]:u(i),"function"==typeof f&&(n[c]=r))}Object.keys(t).forEach(e)}var o=n("../regex/reference"),u=n("../walkGlobal");t.exports=r},{"../regex/reference":22,"../walkGlobal":25}],11:[function(n,t,e){function r(n,t){function e(e){var r=t[e];o.test(r)&&(n[r]=function(){return r.substr(1,r.length-2)})}Object.keys(t).forEach(e)}var o=n("../regex/quoted");t.exports=r},{"../regex/quoted":21}],12:[function(n,t,e){function r(n,t,e){function r(t){var e=t[2]||0,r=n[t[0]];u[e]=r}var u=[],i=o.bind(null,t);return i(e).forEach(r),u}var o=n("./inputPipes");t.exports=r},{"./inputPipes":13}],13:[function(n,t,e){function r(n,t){function e(t){o.push(n[t])}function r(e){return n[e][1]===t}var o=[];return Object.keys(n).filter(r).forEach(e),o}t.exports=r},{}],14:[function(n,t,e){function r(n){var t="function"==typeof n,e="object"==typeof n.graph,r="object"==typeof n.funcs,u=!0;if(t&&e&&r)try{o(n.graph,n.funcs)}catch(i){u=!1}return u}var o=n("./validate");t.exports=r},{"./validate":24}],15:[function(n,t,e){function r(n,t,e){function u(e){i=Math.max(i,r(n,t,e)+1)}var i=0,f=o.bind(null,n);return"number"==typeof t[e]?t[e]:(f(e).forEach(u),t[e]=i,i)}var o=n("./parents");t.exports=r},{"./parents":16}],16:[function(n,t,e){function r(n,t){function e(n){u.push(n[0])}var r=o.bind(null,n),u=[];return r(t).forEach(e),u}var o=n("./inputPipes");t.exports=r},{"./inputPipes":13}],17:[function(n,t,e){t.exports=/^@[\w][\w\d]+$/},{}],18:[function(n,t,e){t.exports=/^arguments\[(\d+)\]$/},{}],19:[function(n,t,e){t.exports=/^\/\/.+$/},{}],20:[function(n,t,e){e.attr=/^\.([a-zA-Z_$][0-9a-zA-Z_$]+)$/,e.func=/^\.([a-zA-Z_$][0-9a-zA-Z_$]+)\(\)$/},{}],21:[function(n,t,e){t.exports=/^'.+'$/},{}],22:[function(n,t,e){t.exports=/^\&(.+)$/},{}],23:[function(n,t,e){t.exports=/^\/[\w][\w\d]+$/},{}],24:[function(n,t,e){function r(n,t){function e(n,t){if(n===t)throw new TypeError("Reserved function name: "+n)}function a(n){var t=l[n][2]||0,e=l[n][0],r=l[n][1];if("number"!=typeof t)throw new TypeError("Invalid pipe: "+l[n]);if("string"!=typeof e)throw new TypeError("Invalid pipe: "+l[n]);if("string"!=typeof r)throw new TypeError("Invalid pipe: "+l[n]);if("undefined"==typeof w[e])throw new Error("Orphan pipe: "+l[n]);if("undefined"==typeof w[r])throw new Error("Orphan pipe: "+l[n]);if("undefined"==typeof b[e]&&(b[e]={}),"undefined"==typeof b[e][r]&&(b[e][r]=[]),"undefined"!=typeof b[e][r][t])throw new Error("Duplicated pipe: "+l[n]);b[e][r][t]=!0}function s(n){var t=w[n];return c.test(t)}function p(n){var t=w[n],e=t.substring(1);if("undefined"==typeof h[e])throw new Error("Undefined subgraph: "+e)}function d(n){r(h[n],t)}var l=n.pipe,w=n.task,y=n.data||{},h=n.func||{},g=n.info||{},b={};if("object"==typeof t)for(var v in t){var x=["return","arguments","this","this.graph"],j=e.bind(null,v);if(x.forEach(j),u.test(v))throw new TypeError("Reserved function name: "+v);if(o.test(v))throw new TypeError('Function name cannot start with "@": '+v);if(i.attr.test(v))throw new TypeError('Function name cannot start with ".":'+v);if(i.func.test(v))throw new TypeError('Function name cannot start with "." and end with "()":'+v);if(f.test(v))throw new TypeError('Function name cannot start with "&": '+v)}if("object"!=typeof l)throw new TypeError("Not an object: pipe "+l);if("object"!=typeof w)throw new TypeError("Not an object: task "+w);if("object"!=typeof y)throw new TypeError("Not an object: data "+y);if("object"!=typeof h)throw new TypeError("Not an object: func "+h);if("object"!=typeof g)throw new TypeError("Not an object: info "+g);return Object.keys(l).forEach(a),Object.keys(w).filter(s).forEach(p),"object"==typeof h&&Object.keys(h).forEach(d),!0}var o=n("./regex/accessor"),u=n("./regex/argument"),i=n("./regex/dotOperator"),f=n("./regex/reference"),c=n("./regex/subgraph");t.exports=r},{"./regex/accessor":17,"./regex/argument":18,"./regex/dotOperator":20,"./regex/reference":22,"./regex/subgraph":23}],25:[function(n,t,e){(function(n){function e(n){function t(n,t){return n[t]}return n.split(".").reduce(t,r)}var r;"object"==typeof window&&(r=window),"object"==typeof n&&(r=n),t.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],dflow:[function(n,t,e){function r(n){function t(n){e[n]=o[n]}var e=arguments[1]||{};return Object.keys(o).forEach(t),u(n,e)}var o=n("../functions/window"),u=n("../fun");e.fun=r},{"../fun":1,"../functions/window":3}]},{},[]);